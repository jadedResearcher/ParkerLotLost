<html>

<head>
  <title>The Intern Opens His Eyes</title>
  <link rel="stylesheet" href="index.css">
  <link rel="icon" href="alt.ico" />
  <script src="page.js"></script>
  <script>
    //i wrote this one and IC edited (normally ic writes)

    initBlorbos = (blorbos, monster) => {
      const sources = {
        solemn: 'http://farragofiction.com/TwoGayJokes/Stories/MurderGameIcons/thesolemn.png',
        twin2: 'http://farragofiction.com/TwoGayJokes/Stories/MurderGameIcons/thetwins2.png',
        _: 'http://farragofiction.com/TwoGayJokes/Stories/MurderGameIcons/_.png',
        twin1: 'http://farragofiction.com/TwoGayJokes/Stories/MurderGameIcons/thetwins1.png',
        reflection: 'http://farragofiction.com/TwoGayJokes/Stories/MurderGameIcons/thereflection.png',
        match: 'http://farragofiction.com/TwoGayJokes/Stories/MurderGameIcons/thematch.png',
        shot: 'http://farragofiction.com/TwoGayJokes/Stories/MurderGameIcons/theshot.png',
        end: 'http://farragofiction.com/TwoGayJokes/Stories/MurderGameIcons/theend.png',
        k: 'http://farragofiction.com/TwoGayJokes/Stories/MurderGameIcons/k.png', //doesn't deserve a title, bastard man
        deadgod: 'deadgodwatching.png'
      }

      const monsters = {
        solemn: 'http://farragofiction.com/TwoGayJokes/Stories/MonsterIcons/solemn.png',
        twin2: 'http://farragofiction.com/TwoGayJokes/Stories/MonsterIcons/twins.png',
        _: 'http://farragofiction.com/TwoGayJokes/Stories/MurderGameIcons/_.png',
        twin1: 'http://farragofiction.com/TwoGayJokes/Stories/MonsterIcons/twins.png',
        reflection: 'http://farragofiction.com/TwoGayJokes/Stories/MurderGameIcons/thereflection.png',
        match: 'http://farragofiction.com/TwoGayJokes/Stories/MonsterIcons/match.png',
        shot: 'http://farragofiction.com/TwoGayJokes/Stories/MonsterIcons/porter.png',
        end: 'http://farragofiction.com/TwoGayJokes/Stories/MonsterIcons/end.png',
        k: 'http://farragofiction.com/TwoGayJokes/Stories/MurderGameIcons/k.png', //doesn't deserve a title, bastard man
        deadgod: 'deadgod.png'
      }
      const ele = document.querySelector("#cast");
      if (!ele) {
        console.error("JR NOTE: cannot find cast section. Did you REALLY mean to call this?");
        return;
      }

      for (let blorbo of blorbos) {
        const img = document.createElement("img");
        img.className = "blorbo";
        img.src = sources[blorbo];

        ele.append(img);
        if (monster) {
          img.addEventListener("mouseover", () => {
            img.src = monsters[blorbo];
          });
          img.onmouseout = () => {
            img.src = sources[blorbo];
          }
        }
      }
      //stress test
      /*
      for(let source of Object.values(sources)){
        const img = document.createElement("img");
        img.className = "blorbo";
        img.src = source;
        ele.append(img);
      }*/
    }

    window.onload = () => {
      //initBlorbos(["shot", "_"], true)
    }

    let once = false;
    window.onclick = () => {
      if (!once) {
        const story = document.querySelector("#story");
        document.querySelector("#muzak").play();
        story.style.display = "block";
        document.querySelector("#euphoria").style.display = "none";

        let img = document.createElement("img");
        img.src = "WitnessByGuideOfHunters/Arm1.png";
        story.append(img)
        
        const page1 = new Page(1, page1Content);
        const page2 = new Page(2, page2Content);
        const page3 = new Page(3, page3Content);
        const page4 = new Page(4, page4Content);
        const page5 = new Page(5, page5Content);
        const page6 = new Page(6, page6Content);
        const page7 = new Page(7, page7Content);

        page1.render(story);
        img = document.createElement("img");
        img.src = "WitnessByGuideOfHunters/Arm2.png";
        story.append(img)
        page2.render(story);
        img = document.createElement("img");
        img.src = "WitnessByGuideOfHunters/Arm3.png";
        story.append(img)
        page3.render(story);
        
        page4.render(story);
        img = document.createElement("img");
        img.src = "WitnessByGuideOfHunters/Arm4.png";
        story.append(img)
        page5.render(story);
        page6.render(story);
        img = document.createElement("img");
        img.src = "WitnessByGuideOfHunters/Opens_His_Eyes.gif";
        story.append(img)
        page7.render(story);

        once = true;
      }

    }
  </script>
</head>


<body>

  <audio id="muzak">
    <source
      src="http://farragofiction.com/CodexOfRuin/MallMusicMuzakMallOf1974/Mall%20Music%20Muzak%20-%20Mall%20Of%201974%20-%2006%20The%20Fountain%20Of%20Life.mp3"
      type="audio/mpeg">
    If you're reading this, audio isn't supported.
  </audio>

  <button id="euphoria">Click To See</button>

  <div id="story">

  </div>
  </div>

  <div id="cast"></div>
</body>

</html>